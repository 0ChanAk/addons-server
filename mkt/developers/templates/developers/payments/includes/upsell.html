{% from 'developers/includes/macros.html' import some_html_tip %}
<div class="brform c" id="payments-upsell">
  {% if form.fields['free'].queryset.count() %}
    {{ form.do_upsell.errors }}
    {{ form.do_upsell }}
    <div class="indent">
      {{ form.free.errors }}
      <p>{{ form.free }}</p>
      <p class="extra">
        {% if webapp %}
          {{ loc("Pitch your premium app, describing the added benefits
                  and functionality over the free version. This will appear
                  on the free app's details page.") }}
        {% else %}
          {% trans %}
            Pitch your premium add-on, describing the added benefits
            and functionality over the free version. This will appear
            on the free add-on's details page.
          {% endtrans %}
        {% endif %}
      </p>
      {{ form.text.errors }}
      {{ form.text }}
      {{ some_html_tip() }}
    </div>
  {% else %}
    <label>{{ loc('App upsell') if webapp else _('Add-on upsell') }}</label>
    <div class="extra">
      {% if webapp %}
        {% trans %}
          If you have a free app, you can pitch your premium app
          on that free app. Currently you have no free apps.
        {% endtrans %}
      {% else %}
        {% trans %}
          If you have a free add-on, you can pitch your premium add-on
          on that free add-on. Currently you have no free add-ons.
        {% endtrans %}
      {% endif %}
    </div>
  {% endif %}
</div>
