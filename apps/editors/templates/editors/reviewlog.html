{% extends "editors/base.html" %}
{% block content %}
  <h2>{{ _('Review Log', 'editorcp_reviewlog_page_heading') }}</h2>

  <div class="featured"><div class="featured-inner">
   	<div id="log-filter">
     	<form action="{{ url('editors.reviewlog') }}" method="get">
        <p class="date_range">
          {{ form.start.label_tag() }}
          {{ form.start }}
          {{ form.end.label_tag() }}
          {{ form.end }}
        </p><p>
          {# L10n: "Filter" is a button label (verb) #}
          <button type="submit">
            {{ _('Filter', 'editorcp_reviewlog_page_heading') }}
          </button>
        </p>
      </form>
   	</div><!-- #log-filter -->
    {% if pager.object_list %}
      <table id="log-listing">
        <thead>
          <tr>
            <th>{{ _('Date', 'editorcp_reviewlog_column_date') }}</th>
            <th>{{ _('Add-on', 'editorcp_reviewlog_column_addon') }}</th>
            <th>{{ _('Editor') }}</th>
            <th>{{ _('Action', 'editorcp_reviewlog_column_action') }}</th>
          </tr>
        </thead>
        <tbody>
          {% for item in pager.object_list %}
            <tr>
              <td>{{ item.created|babel_datetime }}</td>
              <td>
                <a href="{{ url('editors.review', item.file.version_id) }}">
                  {{ item.addon.name or item.id }}
                </a>
              </td>
              <td>{{ item.user.display_name }}</td>
              <td>
                {% if item.reviewtype == 'nominated' %}
                  {{ NOM_DICT[item.action] }}
                {% elif item.reviewtype == 'pending' %}
                  {{ PEN_DICT[item.action] }}
                {% endif %}
              </td>
              <td>
                <a class="comments show" href="#">{{ _('Show Comments') }}</a>
                <a class="comments hide" href="#">{{ _('Hide Comments') }}</a>
              </td>
            </tr>
            <tr class="comments hide">
              <td colspan="5">{{ item.comments }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <div><p>{{ _('No reviews found for this period.') }}</p></div>
    {% endif %}

    <div class="listing-footer">
      {{ pager|paginator }}
    </div>
  </div>
{% endblock %}
