{% extends "mobile/base.html" %}

{% block title %}
{% if category %}
  {{ page_title(category.name) }}
{% else %}
  {{ page_title(_('Extensions')) }}
{% endif %}
{% endblock %}

{% if category %}
  {% set url_base = url('browse.extensions', category.slug) %}
{% else %}
  {% set url_base = url('browse.extensions') %}
{% endif %}

{% block page %}
  {% if category %}
    <h2>{{ category.name }}</h2>
  {% else %}
    <h2>{{ _('Extensions') }}</h2>
  {% endif %}
  <div class="menu">
    <div id="sort-menu">
      <span>{{ _('Sort by:') }}</span>
      <select>
        {% for value, title in sort_opts %}
          <option data-url="{{ url_base|urlparams(sort=value) }}"
                  {% if value == sorting %}selected{% endif %}>
            {{ title }}</option>
        {% endfor %}
      </select>
    </div>
  </div>

  <div class="addon-listing">
    <ul class="listview">
      {{ addon_listing_items_mobile(addons.object_list, src='category') }}
    </ul>
  </div>

  {{ addons|mobile_paginator }}
{% endblock %}
