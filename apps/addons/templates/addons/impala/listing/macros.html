{% macro heading(request, addon, collection) %}
  <h3>
    {% if collection %}
      {% set collection_path = '?src=collection&collection_id=' + collection.uuid %}
    {% else %}
      {% set collection_path = '' %}
    {% endif %}
    <a href="{{ addon.get_url_path(impala=True) + collection_path }}">
      <img src="{{ addon.icon_url }}">{{ addon.name }}</a>
    {% if addon.is_no_restart() %}
      <span class="no-restart">{{ _('No Restart') }}</span>
    {% endif %}
    {% if addon.is_featured(request.APP, request.LANG) %}
      <span class="featured">{{ _('Featured') }}</span>
    {% endif %}
  </h3>
{% endmacro %}

{% macro item_info(addon, amo, show_date) %}
  {{ impala_reviews_link(addon) }}
  <div class="adu">
    {% with num=addon.average_daily_users %}
      {# L10n: {0} is the number of users. #}
      {{ ngettext('{0} user', '{0} users', num)|f(num|numberfmt) }}
    {% endwith %}
  </div>
  {% if show_date in ('created', 'new', 'newest', 'updated') %}
    <div class="updated">
      {% if show_date in ('created', 'new', 'newest') %}
        {{ _('Added {0}')|f(addon.created|datetime) }}
      {% elif show_date == 'updated' %}
        {{ _('Updated {0}')|f(addon.last_updated|datetime) }}
      {% endif %}
    </div>
  {% endif %}
{% endmacro %}
