{% extends "base_side_categories.html" %}

{% block title %}
{% if category %}
  {{ page_title(category.name) }}
{% else %}
  {{ page_title(_('Extensions')) }}
{% endif %}
{% endblock %}

{% block content %}
<header>
  {% if category %}
    {{ breadcrumbs([(url('browse.extensions'), _('Extensions'))]) }}
    <hgroup>
    <h2>{{ category.name }}</h2>
  {% else %}
    {{ breadcrumbs() }}
    <hgroup>
    <h2>{{ _('Extensions') }}</h2>
  {% endif %}
  {# L10n: {0} is an integer. #}
  <h3>{{ _('{0} add-ons')|f(addons.paginator.count) }}</h3>
  </hgroup>
</header>

<div class="featured listing">
  <div class="featured-inner">
    {% if category %}
      {% set url_base = url('browse.extensions', category.slug) %}
    {% else %}
      {% set url_base = url('browse.extensions') %}
    {% endif %}
    {{ addon_listing_header(url_base, sort_opts, sorting, experimental) }}
    {{ addon_listing_items(addons.object_list) }}
    <div class="listing-footer">
      {{ addons|paginator }}
    </div>
  </div> {# featured-inner #}
</div>
{% endblock %}
