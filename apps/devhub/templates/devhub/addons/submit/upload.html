{% extends "devhub/addons/submit/base.html" %}

{% block primary %}
<form method="post" id="create-addon" class="item" action="">
  {{ csrf() }}
  <h3>{{ _('Step 2. Upload Your Add-on') }}</h3>
  <p>
  {% trans %}
    Use the fields below to upload your add-on package and select any platform
    restrictions. After upload, a series of automated validation tests will be run
    on your file.
  {% endtrans %}
  </p>
  <section id="upload-file">
  <div>
    <span class="invisible-upload cta" data-upload-url="{{ url('devhub.upload') }}">
      <a class="button prominent disabled" href="#">{{ _('Select Add-on to Upload...') }}</a>
      <input disabled type="file" id="upload-file-input" />
    </span>
  </div>
  <p class="extra">{{ _('We accept .xpi, .jar, and .xml files.') }}</p>
  {{ new_addon_form.non_field_errors() }}
    <div class="upload-status hidden">
      <strong id="upload-status-text"></strong>
      <div id="upload-status-bar">
        <div></div>
      </div>
      <div id="uploadstatus">
        <span id="uploadstatus_percent"></span>
        &middot;
        <progress id="uploadstatus_progress"></progress>
        <span id="uploadstatus_abort">
          &middot;
          <a href="#">{{ _('Cancel') }}</a>
        </span>
      </div>
      <div id="upload-status-results"></div>
    </div>
      <div class="platform">
      <label>{{ _('Select the target platform(s) for this file.') }}</label>
      {{ new_addon_form.errors.platforms }}
      {{ new_addon_form.platforms }}
      {{ new_addon_form.upload }}
      </div>
      <div class="submission-buttons addon-submission-field">
        <button id="submit-upload-file-finish" disabled=disabled type="submit">
          {{ _('Continue') }}
        </button>
      </div>
  </section>
</form>
{% endblock primary %}
